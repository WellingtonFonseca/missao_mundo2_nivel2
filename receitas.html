<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1">
    <title>Catálogo de Receitas</title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>
<script>
    const preencheCatalogo = () => {};
</script>
<body class="" onload="preencheCatalogo();">
    <main class="
            container-fluid
            bg-warning
            h-100
            p-4">
        <div class="card-deck" id="pnlCatalogo"></div>
    </main>

    <script>
        const getListaIngredientes = (ingredientes) => {
            let ingredientes_li = ingredientes.reduce(function(previousValue, currentValue, index) {
                if (index == 1) {
                    previousValue = `<li>${previousValue}</li>`;
                };
                return previousValue + `<li>${currentValue}</li>`;
            });

            return `<ul>${ingredientes_li}</ul>`;
        };

        const getListaPreparos = (preparos) => {
            let preparos_li = preparos.reduce(function(previousValue, currentValue, index) {
                if (index == 1) {
                    previousValue = `<li>${previousValue}</li>`;
                };
                return previousValue + `<li>${currentValue}</li>`;
            });

            return `<ol>${preparos_li}</ol>`;
        };

        const getCard = (receita) => {
            const painel_catalogo = document.getElementById("pnlCatalogo");
            painel_catalogo.innerHTML = "";

            let receitas_card = receita.map((item) => {
                let ingredientes_ul = getListaIngredientes(item.ingredientes);
                let preparos_ul = getListaPreparos(item.preparo);

                card_html = "";
                card_html += `<div class="card" style="width: 250px;">`;
                card_html += `<img class="card-img-top" src="${item.imagem}" alt="${item.título}">`;
                card_html += `<div class="card-body">`;
                card_html += `<h3 class="card-title">${item.título}</h3>`;
                card_html += `<div class="card-text"><small class="text-muted">${item.tempo}</small></div>`;
                card_html += `<h5 class="card-title">ingredientes</h5>`;
                card_html += `<p class="card-text">`;
                card_html += ingredientes_ul;
                card_html += `<hr>`;
                card_html += `<h5 class="card-title">preparo</h5>`;
                card_html += preparos_ul;
                card_html += `</p>`;
                card_html += `</div>`;
                card_html += `</div>`;

                painel_catalogo.innerHTML = painel_catalogo.innerHTML + card_html;
            });
        };

        const receitas_vector = [
            {
                "título": "receita 1",
                "tempo": "10 min",
                "imagem": "assets/image-1.jpg",
                "preparo": [
                    "preparo 1",
                    "preparo 2",
                    "preparo 3",
                ],
                "ingredientes": [
                    "ingrediente 1",
                    "ingrediente 2",
                    "ingrediente 3",
                ],
            },
            {
                "título": "receita 2",
                "tempo": "30 min",
                "imagem": "assets/image-2.jpg",
                "preparo": [
                    "preparo 2",
                    "preparo 3",
                    "preparo 1",
                ],
                "ingredientes": [
                    "ingrediente 2",
                    "ingrediente 3",
                    "ingrediente 1",
                ],
            },
            {
                "título": "receita 3",
                "tempo": "25 min",
                "imagem": "assets/image-3.jpg",
                "preparo": [
                    "preparo 3",
                    "preparo 1",
                    "preparo 2",
                ],
                "ingredientes": [
                    "ingrediente 3",
                    "ingrediente 1",
                    "ingrediente 2",
                ],
            },
        ]

        getCard(receitas_vector);

    </script>
</body>
</html>
